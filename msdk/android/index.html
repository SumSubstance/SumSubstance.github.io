<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Android SDK | Sumsub Developer Hub</title>
    <meta name="description" content=" ">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">
  <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/favicon/favicon.ico">
  <meta name="msapplication-TileColor" content="#5bbad5">
  <meta name="msapplication-TileImage" content="/favicon/mstile-144x144.png">
  <meta name="msapplication-config" content="/favicon/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.f69d607d.css" as="style"><link rel="preload" href="/assets/js/app.ca50a992.js" as="script"><link rel="preload" href="/assets/js/2.7a462c56.js" as="script"><link rel="preload" href="/assets/js/5.1615d861.js" as="script"><link rel="preload" href="/assets/js/34.8d32e80c.js" as="script"><link rel="prefetch" href="/assets/js/10.682de3a1.js"><link rel="prefetch" href="/assets/js/11.eccd2a82.js"><link rel="prefetch" href="/assets/js/12.9a6b07ce.js"><link rel="prefetch" href="/assets/js/13.9da6a286.js"><link rel="prefetch" href="/assets/js/14.073582bf.js"><link rel="prefetch" href="/assets/js/15.b8e7190b.js"><link rel="prefetch" href="/assets/js/16.0a7a08f0.js"><link rel="prefetch" href="/assets/js/17.bcc0eeca.js"><link rel="prefetch" href="/assets/js/18.021b016b.js"><link rel="prefetch" href="/assets/js/19.d85a2845.js"><link rel="prefetch" href="/assets/js/20.cb581b1f.js"><link rel="prefetch" href="/assets/js/21.a1e30ab4.js"><link rel="prefetch" href="/assets/js/22.6ca87e65.js"><link rel="prefetch" href="/assets/js/23.05adef98.js"><link rel="prefetch" href="/assets/js/24.7a0cdea5.js"><link rel="prefetch" href="/assets/js/25.627e1c87.js"><link rel="prefetch" href="/assets/js/26.55c6f4a2.js"><link rel="prefetch" href="/assets/js/27.0fb44965.js"><link rel="prefetch" href="/assets/js/28.6b2c41be.js"><link rel="prefetch" href="/assets/js/29.ffc3fc37.js"><link rel="prefetch" href="/assets/js/3.4e3c5a5d.js"><link rel="prefetch" href="/assets/js/30.6ee59d51.js"><link rel="prefetch" href="/assets/js/31.ac0ae491.js"><link rel="prefetch" href="/assets/js/32.e7649ace.js"><link rel="prefetch" href="/assets/js/33.d5402901.js"><link rel="prefetch" href="/assets/js/35.21122dec.js"><link rel="prefetch" href="/assets/js/36.54157ed1.js"><link rel="prefetch" href="/assets/js/37.24135e27.js"><link rel="prefetch" href="/assets/js/38.b068f362.js"><link rel="prefetch" href="/assets/js/39.05d1de4c.js"><link rel="prefetch" href="/assets/js/4.06715665.js"><link rel="prefetch" href="/assets/js/40.f18cbaf8.js"><link rel="prefetch" href="/assets/js/41.dccc5c0b.js"><link rel="prefetch" href="/assets/js/42.53eaea53.js"><link rel="prefetch" href="/assets/js/43.10cae371.js"><link rel="prefetch" href="/assets/js/44.809b3786.js"><link rel="prefetch" href="/assets/js/45.68ec3ca8.js"><link rel="prefetch" href="/assets/js/46.80c89b8f.js"><link rel="prefetch" href="/assets/js/47.7dd81808.js"><link rel="prefetch" href="/assets/js/48.4c138b10.js"><link rel="prefetch" href="/assets/js/49.5605b635.js"><link rel="prefetch" href="/assets/js/50.c2e3b558.js"><link rel="prefetch" href="/assets/js/51.821b5c5f.js"><link rel="prefetch" href="/assets/js/52.97d993cb.js"><link rel="prefetch" href="/assets/js/53.5badd0a3.js"><link rel="prefetch" href="/assets/js/54.be43901d.js"><link rel="prefetch" href="/assets/js/55.14bfbb58.js"><link rel="prefetch" href="/assets/js/56.4e7613f8.js"><link rel="prefetch" href="/assets/js/57.c7171bd3.js"><link rel="prefetch" href="/assets/js/6.531d492c.js"><link rel="prefetch" href="/assets/js/7.31cadb3e.js"><link rel="prefetch" href="/assets/js/8.5819ff2a.js"><link rel="prefetch" href="/assets/js/9.a85423ff.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f69d607d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Sumsub Developer Hub</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Getting started</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">WebSDK</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-sdk/" class="nav-link">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/web-sdk/questionnaire.html" class="nav-link">Questionnaire</a></li><li class="dropdown-item"><!----> <a href="/web-sdk/advanced-settings.html" class="nav-link">Advanced</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Mobile SDK</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/msdk/" class="nav-link router-link-active">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/msdk/android/" class="nav-link router-link-exact-active router-link-active">Android SDK</a></li><li class="dropdown-item"><!----> <a href="/msdk/ios/" class="nav-link">iOS SDK</a></li><li class="dropdown-item"><!----> <a href="/msdk/plugins/" class="nav-link">Frameworks Plugins</a></li></ul></div></div><div class="nav-item"><a href="/api-flow/" class="nav-link">API Integration Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">API Reference</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api-reference/" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/applicant-actions/" class="nav-link">Applicant actions</a></li><li class="dropdown-item"><!----> <a href="/audit-trail-events/" class="nav-link">Audit trail events</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">KYT</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kyt/" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/kyt/travel-rule/" class="nav-link">Travel Rule</a></li></ul></div></div><div class="nav-item"><a href="/faq/" class="nav-link">FAQ</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Getting started</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">WebSDK</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-sdk/" class="nav-link">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/web-sdk/questionnaire.html" class="nav-link">Questionnaire</a></li><li class="dropdown-item"><!----> <a href="/web-sdk/advanced-settings.html" class="nav-link">Advanced</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Mobile SDK</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/msdk/" class="nav-link router-link-active">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/msdk/android/" class="nav-link router-link-exact-active router-link-active">Android SDK</a></li><li class="dropdown-item"><!----> <a href="/msdk/ios/" class="nav-link">iOS SDK</a></li><li class="dropdown-item"><!----> <a href="/msdk/plugins/" class="nav-link">Frameworks Plugins</a></li></ul></div></div><div class="nav-item"><a href="/api-flow/" class="nav-link">API Integration Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">API Reference</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api-reference/" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/applicant-actions/" class="nav-link">Applicant actions</a></li><li class="dropdown-item"><!----> <a href="/audit-trail-events/" class="nav-link">Audit trail events</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">KYT</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kyt/" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/kyt/travel-rule/" class="nav-link">Travel Rule</a></li></ul></div></div><div class="nav-item"><a href="/faq/" class="nav-link">FAQ</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Android SDK</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/msdk/android/#getting-started" class="sidebar-link">Getting started</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/msdk/android/#requirements" class="sidebar-link">Requirements</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#resources" class="sidebar-link">Resources</a></li></ul></li><li><a href="/msdk/android/#installation" class="sidebar-link">Installation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/msdk/android/#basic-usage" class="sidebar-link">Basic Usage</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/msdk/android/#initialization" class="sidebar-link">Initialization</a></li></ul></li><li><a href="/msdk/android/#configuration" class="sidebar-link">Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/msdk/android/#applicant-data" class="sidebar-link">Applicant Data</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#preferred-documents" class="sidebar-link">Preferred Documents</a></li></ul></li><li><a href="/msdk/android/#handlers" class="sidebar-link">Handlers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/msdk/android/#token-expiration-handler" class="sidebar-link">Token Expiration Handler</a></li></ul></li><li><a href="/msdk/android/#callbacks" class="sidebar-link">Callbacks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/msdk/android/#on-sdk-state-changes" class="sidebar-link">On SDK State changes</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#applicant-actions" class="sidebar-link">Applicant Actions</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#additional-verification" class="sidebar-link">Additional Verification</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#face-auth" class="sidebar-link">Face Auth</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#on-sdk-errors" class="sidebar-link">On SDK Errors</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#on-sdk-completion" class="sidebar-link">On SDK completion</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#on-action-result-only-for-face-auth-action" class="sidebar-link">On Action Result (only for Face auth</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#events" class="sidebar-link">Events</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#icon-handler" class="sidebar-link">Icon handler</a></li></ul></li><li><a href="/msdk/android/#video-identification" class="sidebar-link">Video Identification</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/msdk/android/#debugging" class="sidebar-link">Debugging</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/msdk/android/#logs" class="sidebar-link">Logs</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#custom-logger" class="sidebar-link">Custom Logger</a></li></ul></li><li><a href="/msdk/android/#customization" class="sidebar-link">Customization</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/msdk/android/#localization" class="sidebar-link">Localization</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/msdk/android/#strings" class="sidebar-link">Strings</a></li><li class="sidebar-sub-header"><a href="/msdk/android/#terms-and-conditions-private-policy" class="sidebar-link">'Terms and Conditions', 'Private Policy'</a></li></ul></li><li><a href="/msdk/android/#action-flow" class="sidebar-link">Action Flow</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/msdk/android/#file-selection-in-gallery" class="sidebar-link">File selection in gallery</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/msdk/android/#low-light-performance-for-our-liveness-detection" class="sidebar-link">Low-light performance for our liveness detection</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/msdk/android/#analytics" class="sidebar-link">Analytics</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/msdk/android/#obfuscation" class="sidebar-link">Obfuscation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/msdk/android/#reducing-sdk-size" class="sidebar-link">Reducing SDK size</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="android-sdk"><a href="#android-sdk" class="header-anchor">#</a> Android SDK</h1> <h2 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting started</h2> <p>Latest release: <strong>Version 1.31.0</strong> (<a href="/msdk/android/changelog.html">Changelog</a>)</p> <h3 id="requirements"><a href="#requirements" class="header-anchor">#</a> Requirements</h3> <ul><li>AndroidX</li> <li>API level 21 (Android 5.0) and above (<a href="https://developer.android.com/about/dashboards/index.html" target="_blank" rel="noopener noreferrer">distribution stats<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</li> <li>Kotlin 1.7.10 or higher</li></ul> <h3 id="resources"><a href="#resources" class="header-anchor">#</a> Resources</h3> <ul><li>Integration Sample (Kotlin): <a href="https://github.com/SumSubstance/idensic-mobile-sdk-sample-android" target="_blank" rel="noopener noreferrer">idensic-mobile-sdk-sample-android<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Integration Sample (Java): <a href="https://github.com/SumSubstance/idensic-mobile-sdk-sample-android-java" target="_blank" rel="noopener noreferrer">idensic-mobile-sdk-sample-android-java<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <div class="tip custom-block"><p>It's always a good idea to usе the latest version</p></div> <p>Add the SumSub maven repository to the repositories section in your <code>build.gradle</code> file:</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>repositories <span class="token punctuation">{</span>
  maven <span class="token punctuation">{</span> url <span class="token string gstring">&quot;https://maven.sumsub.com/repository/maven-public/&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Add the following dependencies to your <code>build.gradle</code> file:</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>dependencies <span class="token punctuation">{</span>
    <span class="token comment">// SumSub core</span>
    implementation <span class="token string gstring">&quot;com.sumsub.sns:idensic-mobile-sdk:<span class="token expression"><span class="token punctuation">$</span>latestVersion</span>&quot;</span>
    <span class="token comment">// Video Identification module</span>
    implementation <span class="token string gstring">&quot;com.sumsub.sns:idensic-mobile-sdk-videoident:<span class="token expression"><span class="token punctuation">$</span>latestVersion</span>&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="basic-usage"><a href="#basic-usage" class="header-anchor">#</a> Basic Usage</h2> <div class="warning custom-block"><p>Make sure you complete the <a href="/msdk/#backend-routines">Backend routines</a> before initializing the SDK</p></div> <h3 id="initialization"><a href="#initialization" class="header-anchor">#</a> Initialization</h3> <p>Kotlin example</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code>
<span class="token comment">// use the 'accessToken' that you generated on your backend</span>
<span class="token keyword">val</span> accessToken <span class="token operator">=</span> <span class="token string">&quot;...&quot;</span>

<span class="token keyword">val</span> tokenExpirationHandler <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> TokenExpirationHandler <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onTokenExpired</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String<span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token comment">// Access token expired</span>
        <span class="token comment">// get a new one and pass it to the callback to re-initiate the SDK</span>
        <span class="token keyword">val</span> newToken <span class="token operator">=</span> <span class="token string">&quot;...&quot;</span> <span class="token comment">// get a new token from your backend</span>
        <span class="token keyword">return</span> newToken
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> snsSdk <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">withAccessToken</span><span class="token punctuation">(</span>accessToken<span class="token punctuation">,</span> onTokenExpiration <span class="token operator">=</span> tokenExpirationHandler<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">withLocale</span><span class="token punctuation">(</span><span class="token function">Locale</span><span class="token punctuation">(</span><span class="token string">&quot;en&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

snsSdk<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>Java example</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// use the 'accessToken' that you generated on your backend</span>
<span class="token class-name">String</span> accessToken <span class="token operator">=</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">TokenExpirationHandler</span> tokenUpdater <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// Access token expired</span>
        <span class="token comment">// get a new one and pass it to the callback to re-initiate the SDK</span>
        <span class="token class-name">String</span> newAccessToken <span class="token operator">=</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">;</span> <span class="token comment">// get a new token from your backend</span>
        <span class="token keyword">return</span> newAccessToken<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">SDK</span> snsSdk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token function">requireActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">withAccessToken</span><span class="token punctuation">(</span>accessToken<span class="token punctuation">,</span> tokenUpdater<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">withLocale</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span><span class="token string">&quot;en&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <h3 id="applicant-data"><a href="#applicant-data" class="header-anchor">#</a> Applicant Data</h3> <p>If it's required, you could provide an email and/or a phone number that will be assigned to the applicant initially.</p> <p>Kotlin example</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> snsSdk <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
    <span class="token punctuation">.</span><span class="token function">withConf</span><span class="token punctuation">(</span><span class="token function">SNSInitConfig</span><span class="token punctuation">(</span>email <span class="token operator">=</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">,</span> phone <span class="token operator">=</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

snsSdk<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>Java example</p> <div class="language-java extra-class"><pre class="language-java"><code>
<span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">SDK</span> snsSdk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token function">requireActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token punctuation">.</span><span class="token function">withConf</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SNSInitConfig</span><span class="token punctuation">(</span><span class="token string">&quot;...&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="preferred-documents"><a href="#preferred-documents" class="header-anchor">#</a> Preferred Documents</h3> <p>For <code>IDENTITY*</code> steps, it's possible to specify the preferred country and <a href="/api-reference/#supported-document-types">document type</a> to be selected automatically, thereby bypassing the DocType Selector screen. Note that the parameters provided will be applied only if the corresponding combination of <code>country</code> and <code>idDocType</code> is allowed at the step according to the level configuration.</p> <p>Kotlin example</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> snsSdk <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
    <span class="token punctuation">.</span><span class="token function">withPreferredDocumentDefinitions</span><span class="token punctuation">(</span><span class="token function">mapOf</span><span class="token punctuation">(</span>
        <span class="token string">&quot;IDENTITY&quot;</span> <span class="token keyword">to</span> <span class="token function">SNSDocumentDefinition</span><span class="token punctuation">(</span>idDocType <span class="token operator">=</span> <span class="token string">&quot;DRIVERS&quot;</span><span class="token punctuation">,</span> country <span class="token operator">=</span> <span class="token string">&quot;USA&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>Java example</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">SDK</span> snsSdk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token function">requireActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token punctuation">.</span><span class="token function">withPreferredDocumentDefinitions</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
            <span class="token string">&quot;IDENTITY&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">SNSDocumentDefinition</span><span class="token punctuation">(</span><span class="token string">&quot;DRIVERS&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;USA&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="handlers"><a href="#handlers" class="header-anchor">#</a> Handlers</h2> <h3 id="token-expiration-handler"><a href="#token-expiration-handler" class="header-anchor">#</a> Token Expiration Handler</h3> <p>Because of the limited lifespan of the <code>accessToken</code>, it's important to handle the situation correctly
when the token expires and needs to be refreshed.
In order to do this provide <code>tokenHandler</code> for the SDK Builder. The handler should make a call to your backend,
obtain a new access token and then pass it back to the SDK by returning its value.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> tokenHandler <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> TokenExpirationHandler <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onTokenExpired</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String<span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> newToken <span class="token operator">=</span> <span class="token operator">..</span><span class="token operator">..</span>
        <span class="token keyword">return</span> newToken
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">TokenExpirationHandler</span> tokenUpdater <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> newAccessToken <span class="token operator">=</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> newAccessToken<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="warning custom-block"><p><code>onTokenExpired</code> is called on a non-UI thread</p></div> <h2 id="callbacks"><a href="#callbacks" class="header-anchor">#</a> Callbacks</h2> <h3 id="on-sdk-state-changes"><a href="#on-sdk-state-changes" class="header-anchor">#</a> On SDK State changes</h3> <p>Use <code>withHandlers(onStateChanged=onSDKStateChangedHandler)</code> or <code>.withStateChangedHandler(stateChangedHandler)</code> in the SDK builder to get notified about changes in the flow of the verification process.
The callback takes two parameters:</p> <ul><li><code>newState</code> is the current SDK State</li> <li><code>prevState</code> is the previous state value</li></ul> <p>The following example lists all the possible states:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> onSDKStateChangedHandler<span class="token operator">:</span> <span class="token punctuation">(</span>SNSSDKState<span class="token punctuation">,</span> SNSSDKState<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span> newState<span class="token punctuation">,</span> prevState <span class="token operator">-&gt;</span>
    Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;onSDKStateChangedHandler: <span class="token interpolation variable">$prevState</span> -&gt; <span class="token interpolation variable">$newState</span>&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">when</span> <span class="token punctuation">(</span>newState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Ready <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;SDK is ready&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">when</span> <span class="token punctuation">(</span>newState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>ApplicantNotFound <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>ApplicantMisconfigured <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>InitialLoadingFailed <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>exception<span class="token punctuation">,</span><span class="token string">&quot;Initial loading error&quot;</span><span class="token punctuation">)</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>InvalidParameters <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>NetworkError <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>exception<span class="token punctuation">,</span>newState<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>Unauthorized <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>exception<span class="token punctuation">,</span><span class="token string">&quot;Invalid token or a token can't be refreshed by the SDK. Please, check your token expiration handler&quot;</span><span class="token punctuation">)</span>
                <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Failed<span class="token punctuation">.</span>Unknown <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>newState<span class="token punctuation">.</span>exception<span class="token punctuation">,</span> <span class="token string">&quot;Unknown error&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Initial <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;No verification steps are passed yet&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Incomplete <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Some but not all verification steps are passed over&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Pending <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Verification is in pending state&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>FinallyRejected <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Applicant has been finally rejected&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>TemporarilyDeclined <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Applicant has been declined temporarily&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>Approved <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Applicant has been approved&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withHandlers</span><span class="token punctuation">(</span>onStateChanged <span class="token operator">=</span> onSDKStateChangedHandler<span class="token punctuation">)</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">SNSStateChangedHandler</span> stateChangedHandler <span class="token operator">=</span> <span class="token punctuation">(</span>previousState<span class="token punctuation">,</span> currentState<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>

    <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;The SDK state was changed: &quot;</span> <span class="token operator">+</span> previousState <span class="token operator">+</span> <span class="token string">&quot; -&gt; &quot;</span> <span class="token operator">+</span> currentState<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState <span class="token keyword">instanceof</span> <span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">Ready</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;SDK is ready&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState <span class="token keyword">instanceof</span> <span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">Failed</span><span class="token punctuation">.</span><span class="token class-name">Unauthorized</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">Failed</span><span class="token punctuation">.</span><span class="token class-name">Unauthorized</span><span class="token punctuation">)</span> currentState<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;Invalid token or a token can't be refreshed by the SDK. Please, check your token expiration handler&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState <span class="token keyword">instanceof</span> <span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">Failed</span><span class="token punctuation">.</span><span class="token class-name">Unknown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">Failed</span><span class="token punctuation">.</span><span class="token class-name">Unknown</span><span class="token punctuation">)</span> currentState<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;Unknown error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState <span class="token keyword">instanceof</span> <span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">Initial</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;No verification steps are passed yet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState <span class="token keyword">instanceof</span> <span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">Incomplete</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Some but not all verification steps are passed over&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState <span class="token keyword">instanceof</span> <span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">Pending</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Verification is in pending state&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState <span class="token keyword">instanceof</span> <span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">FinallyRejected</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Applicant has been finally rejected&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState <span class="token keyword">instanceof</span> <span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">TemporarilyDeclined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Applicant has been declined temporarily&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState <span class="token keyword">instanceof</span> <span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">Approved</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Applicant has been approved&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">SDK</span> snsSdk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token function">requireActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withStateChangedHandler</span><span class="token punctuation">(</span>stateChangedHandler<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="applicant-actions"><a href="#applicant-actions" class="header-anchor">#</a> Applicant Actions</h3> <p>If you are using <a href="/applicant-actions/">Applicant Actions</a>, use additional state for handling action's result</p> <p>In order to run the SDK in <a href="/applicant-actions">Applicant actions</a> mode, you need to have:</p> <ol><li>An applicant level of <code>Applicant actions</code> type configured in the dashboard.</li> <li>An <a href="/msdk/#step-2-access-token">Access Token</a> created with the <code>userId</code>, <code>levelName</code> and <code>externalActionId</code> parameters.</li></ol> <p>Aside from the notes above, you use the sdk the same way that you do with regular levels (see <a href="#basic-usage">Basic Usage</a>),
but the further processing can differ depending on the action's type.</p> <p>The action type is configured for a particular level in the dashboard and can be one of the following:</p> <ul><li><a href="#additional-verification">Additional verification</a></li> <li><a href="#face-auth">Face auth</a></li></ul> <h3 id="additional-verification"><a href="#additional-verification" class="header-anchor">#</a> Additional Verification</h3> <p>Additional verification actions are processed completely identically to the regular level verifications.
You configure and manage the sdk the same way. Nothing special is required.</p> <div class="warning custom-block"><p>Pay an attention please that <code>Payment methods</code> step is not supported at the moment.</p></div> <h3 id="face-auth"><a href="#face-auth" class="header-anchor">#</a> Face Auth</h3> <p><a href="/applicant-actions/#face-authentication">Face authentication</a> actions are handled in a specific manner.
The user will be taken on the FaceScan (Liveness) screen directly and once the action is complete, the sdk will be closed automatically.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> onSDKStateChangedHandler<span class="token operator">:</span> <span class="token punctuation">(</span>SNSSDKState<span class="token punctuation">,</span> SNSSDKState<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span> newState<span class="token punctuation">,</span> prevState <span class="token operator">-&gt;</span>
    Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;onSDKStateChangedHandler: <span class="token interpolation variable">$prevState</span> -&gt; <span class="token interpolation variable">$newState</span>&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// Face auth flow has been completed</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newState <span class="token keyword">is</span> SNSSDKState<span class="token punctuation">.</span>ActionCompleted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> actionId <span class="token operator">=</span> newState<span class="token punctuation">.</span>actionId
        <span class="token keyword">val</span> type <span class="token operator">=</span> newState<span class="token punctuation">.</span>type
        <span class="token keyword">val</span> answer <span class="token operator">=</span> newState<span class="token punctuation">.</span>answer
        <span class="token keyword">val</span> payload <span class="token operator">=</span> newState<span class="token punctuation">.</span>payload
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">SNSStateChangedHandler</span> stateChangedHandler <span class="token operator">=</span> <span class="token punctuation">(</span>previousState<span class="token punctuation">,</span> currentState<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>

    <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;The SDK state was changed: &quot;</span> <span class="token operator">+</span> previousState <span class="token operator">+</span> <span class="token string">&quot; -&gt; &quot;</span> <span class="token operator">+</span> currentState<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState <span class="token keyword">instanceof</span> <span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">ActionCompleted</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">ActionCompleted</span> actionState <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SNSSDKState</span><span class="token punctuation">.</span><span class="token class-name">ActionCompleted</span><span class="token punctuation">)</span> currentState<span class="token punctuation">;</span>
        <span class="token class-name">String</span> actionId <span class="token operator">=</span> actionState<span class="token punctuation">.</span><span class="token function">getActionId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FlowActionType</span> type <span class="token operator">=</span> actionState<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> answer <span class="token operator">=</span> actionState<span class="token punctuation">.</span><span class="token function">getAnswer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> payload <span class="token operator">=</span> actionState<span class="token punctuation">.</span><span class="token function">getPayload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="on-sdk-errors"><a href="#on-sdk-errors" class="header-anchor">#</a> On SDK Errors</h3> <p>Use <code>withHandlers(onError=onSDKErrorHandler)</code> in the SDK builder to know about errors that occur within the SDK.
Refer to the example below to see how:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> onSDKErrorHandler<span class="token operator">:</span> <span class="token punctuation">(</span>SNSException<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span> exception <span class="token operator">-&gt;</span>
    Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;The SDK throws an exception. Exception: <span class="token interpolation variable">$exception</span>&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">when</span> <span class="token punctuation">(</span>exception<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">is</span> SNSException<span class="token punctuation">.</span>Api <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Api exception. <span class="token interpolation"><span class="token delimiter variable">${</span>exception<span class="token punctuation">.</span>description<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSException<span class="token punctuation">.</span>Network <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>exception<span class="token punctuation">,</span> <span class="token string">&quot;Network exception.&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSException<span class="token punctuation">.</span>Unknown <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>exception<span class="token punctuation">,</span> <span class="token string">&quot;Unknown exception.&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withHandlers</span><span class="token punctuation">(</span>onError <span class="token operator">=</span> onSDKErrorHandler<span class="token punctuation">)</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code>
<span class="token class-name">SNSErrorHandler</span> errorHandler <span class="token operator">=</span> e <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;The SDK throws an exception. Exception: %s&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">SNSException</span><span class="token punctuation">.</span><span class="token class-name">Api</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Api exception. %s&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">SNSException</span><span class="token punctuation">.</span><span class="token class-name">Api</span><span class="token punctuation">)</span> e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">SNSException</span><span class="token punctuation">.</span><span class="token class-name">Network</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token string">&quot;Network exception.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">SNSException</span><span class="token punctuation">.</span><span class="token class-name">Unknown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token string">&quot;Unknown exception.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">SDK</span> snsSdk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token function">requireActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withErrorHandler</span><span class="token punctuation">(</span>errorHandler<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="on-sdk-completion"><a href="#on-sdk-completion" class="header-anchor">#</a> On SDK completion</h3> <p>An optional callback to get notified when the SDK is closed:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> onSDKCompletedHandler<span class="token operator">:</span> <span class="token punctuation">(</span>SNSCompletionResult<span class="token punctuation">,</span> SNSSDKState<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span> result<span class="token punctuation">,</span> state <span class="token operator">-&gt;</span>
    <span class="token keyword">when</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">is</span> SNSCompletionResult<span class="token punctuation">.</span>SuccessTermination <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;The SDK finished successfully&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">is</span> SNSCompletionResult<span class="token punctuation">.</span>AbnormalTermination <span class="token operator">-&gt;</span> Timber<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>exception<span class="token punctuation">,</span> <span class="token string">&quot;The SDK got closed because of errors&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withHandlers</span><span class="token punctuation">(</span>onCompleted <span class="token operator">=</span> onSDKCompletedHandler<span class="token punctuation">)</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">SNSCompleteHandler</span> completeHandler <span class="token operator">=</span> <span class="token punctuation">(</span>result<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;The SDK is finished. Result: &quot;</span> <span class="token operator">+</span> result <span class="token operator">+</span> <span class="token string">&quot; , State: &quot;</span> <span class="token operator">+</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>applicationContext<span class="token punctuation">,</span> <span class="token string">&quot;The SDK is finished. Result: $result, State: $state&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token keyword">instanceof</span> <span class="token class-name">SNSCompletionResult</span><span class="token punctuation">.</span><span class="token class-name">SuccessTermination</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token keyword">instanceof</span> <span class="token class-name">SNSCompletionResult</span><span class="token punctuation">.</span><span class="token class-name">AbnormalTermination</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">SNSCompletionResult</span><span class="token punctuation">.</span><span class="token class-name">AbnormalTermination</span><span class="token punctuation">)</span> result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">SDK</span> snsSdk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token function">requireActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withCompleteHandler</span><span class="token punctuation">(</span>completeHandler<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The callback takes two parameters:</p> <ul><li><code>result</code>:
<ul><li><code>SNSCompletionResult.SuccessTermination</code> -  A user clicks on the cancel button.</li> <li><code>SNSCompletionResult.AbnormalTermination</code> - an error occurred. Look at the <code>exception</code> object if you want to get more information</li></ul></li> <li><code>state</code>: The state at which the SDK was closed. For possible states refer to the following <a href="#on-sdk-state-changes">Section</a></li></ul> <h3 id="on-action-result-only-for-face-auth-action"><a href="#on-action-result-only-for-face-auth-action" class="header-anchor">#</a> On Action Result (only for <a href="#face-auth">Face auth</a> action)</h3> <p>An optional handler for getting liveness result and controlling action scenario.</p> <p>The handler takes two parameters:
-<code>actionId</code> : String - Action ID
-<code>answer</code> : String - Liveness module answer. Possible values: &quot;GREEN&quot;, &quot;YELLOW&quot;, &quot;RED&quot;, &quot;ERROR&quot; or null</p> <p>The handler must return SNSActionResult. Currently the following values supported:
-<code>SNSActionResult.Continue</code> - continue default action scenario (show result screen etc.)
-<code>SNSActionResult.Cancel</code> - cancel default action scenario (close sdk without result screen)</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> onActionResultHandler<span class="token operator">:</span> SNSActionResultHandler <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> SNSActionResultHandler <span class="token punctuation">{</span>
   <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onActionResult</span><span class="token punctuation">(</span>actionId<span class="token operator">:</span> String<span class="token punctuation">,</span> actionType<span class="token operator">:</span> String<span class="token punctuation">,</span> answer<span class="token operator">:</span> String<span class="token operator">?</span><span class="token punctuation">,</span> allowContinuing<span class="token operator">:</span> Boolean<span class="token punctuation">)</span><span class="token operator">:</span> SNSActionResult <span class="token punctuation">{</span>
       Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Face Auth action result: actionId: <span class="token interpolation variable">$actionId</span> answer: <span class="token interpolation variable">$answer</span>&quot;</span><span class="token punctuation">)</span>
       <span class="token comment">// use default scenario</span>
       <span class="token keyword">return</span> SNSActionResult<span class="token punctuation">.</span>Continue
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withActionResultHandler</span><span class="token punctuation">(</span>onActionResult<span class="token punctuation">)</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">SNSActionResultHandler</span> actionResultHandler <span class="token operator">=</span> <span class="token punctuation">(</span>actionId<span class="token punctuation">,</span> actionType<span class="token punctuation">,</span> answer<span class="token punctuation">,</span> allowContinuing<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;Action Result: actionId: &quot;</span> <span class="token operator">+</span> actionId <span class="token operator">+</span> <span class="token string">&quot;, answer: &quot;</span> <span class="token operator">+</span> answer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">SNSActionResult</span><span class="token punctuation">.</span><span class="token class-name">Continue</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">SDK</span> snsSdk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token function">requireActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withActionResultHandler</span><span class="token punctuation">(</span>actionResultHandler<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="events"><a href="#events" class="header-anchor">#</a> Events</h3> <p>Providing events callback allows you to be aware of the events happening along the processing.</p> <p>Events are passed into the callback as instances of a class inherited from the base <code>SNSEvent</code> class, this way each event has its <code>eventType</code> and some parameters packed into <code>payload</code> dictionary. So, depending on your needs, you can get event parameters either by examining the <code>payload</code> directly or by casting the given event instance to a specific <code>SNSEvent*</code> class according to its type.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> onEventHandler<span class="token operator">:</span> SNSEventHandler <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> SNSEventHandler <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onEvent</span><span class="token punctuation">(</span>event<span class="token operator">:</span> SNSEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">when</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">is</span> SNSEvent<span class="token punctuation">.</span>SNSEventStepInitiated <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;onEvent: step initiated&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">is</span> SNSEvent<span class="token punctuation">.</span>SNSEventStepCompleted <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                Timber<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;onEvent: step completed&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withEventHandler</span><span class="token punctuation">(</span>onEventHandler<span class="token punctuation">)</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">SNSEventHandler</span> eventHandler <span class="token operator">=</span> snsEvent <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>snsEvent <span class="token keyword">instanceof</span> <span class="token class-name">SNSEvent</span><span class="token punctuation">.</span><span class="token class-name">SNSEventStepInitiated</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;onEvent: step initiated&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>snsEvent <span class="token keyword">instanceof</span> <span class="token class-name">SNSEvent</span><span class="token punctuation">.</span><span class="token class-name">SNSEventStepCompleted</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Timber</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;onEvent: step completed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">SDK</span> snsSdk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token function">requireActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withEventHandler</span><span class="token punctuation">(</span>eventHandler<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="icon-handler"><a href="#icon-handler" class="header-anchor">#</a> Icon handler</h3> <p>By providing an icon handler you are able to provide drawable for specific positions on Sumsub SDK screens.
We currently only support instructions icons and document icons (for the document selector screen).
You will be provided with an icon key and the themed context. The handler should return a drawable or null if the drawable is not needed.</p> <p>The SDK uses the following keys:</p> <ul><li><code>default/do_idCard</code> - an icon for the identity card instruction, the DO block</li> <li><code>default/do_idCard_backSide</code> - an icon for the back side of the identity card instruction, the DO block</li> <li><code>default/do_passport</code> - an icon for the password instruction, the DO block</li> <li><code>default/dont_idCard</code> - an icon for the identity card instruction, the DON'T block</li> <li><code>default/dont_idCard_backSide</code> - an icon for the back side of the identity card instruction, the DON'T block</li> <li><code>default/dont_passport</code> - an icon for the password instruction, the DON'T block</li> <li><code>default/facescan</code> - an icon for the Liveness instruction</li> <li><code>IdentityType/&lt;DOCUMENT TYPE&gt;</code> - an icon for the document's item on the Document Selector screen, where <code>&lt;DOCUMENT TYPE&gt;</code> is PASSPORT, DRIVERS, RESIDENCE_PERMIT or another document</li> <li><code>Flag/&lt;COUNTRY_CODE&gt;</code> - an icon for a country flag, where &lt;COUTRY_CODE&gt; is ISO 3166-1 alpha-2 country code</li></ul> <p>You can provide your own icons or overwrite existing ones by extending the SNSDefaultIconHandler. If no handler has been provided the SNSDefaultIconHandler is used.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> iconHandler <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> SNSIconHandler <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResolveIcon</span><span class="token punctuation">(</span>context<span class="token operator">:</span> Context<span class="token punctuation">,</span> key<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> Drawable<span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> iconRes <span class="token operator">=</span> <span class="token keyword">when</span> <span class="token punctuation">{</span>
            key <span class="token operator">==</span> <span class="token string">&quot;default/do_idCard&quot;</span> <span class="token operator">-&gt;</span> com<span class="token punctuation">.</span>sumsub<span class="token punctuation">.</span>sns<span class="token punctuation">.</span>core<span class="token punctuation">.</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>sns_ic_intro_do
            key <span class="token operator">==</span> <span class="token string">&quot;default/do_passport&quot;</span> <span class="token operator">-&gt;</span> com<span class="token punctuation">.</span>sumsub<span class="token punctuation">.</span>sns<span class="token punctuation">.</span>core<span class="token punctuation">.</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>sns_ic_intro_do_passport
            key <span class="token operator">==</span> <span class="token string">&quot;default/dont_idCard&quot;</span> <span class="token operator">-&gt;</span> com<span class="token punctuation">.</span>sumsub<span class="token punctuation">.</span>sns<span class="token punctuation">.</span>core<span class="token punctuation">.</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>sns_ic_intro_dont
            key <span class="token operator">==</span> <span class="token string">&quot;default/dont_passport&quot;</span> <span class="token operator">-&gt;</span> com<span class="token punctuation">.</span>sumsub<span class="token punctuation">.</span>sns<span class="token punctuation">.</span>core<span class="token punctuation">.</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>sns_ic_intro_dont_passport
            key <span class="token operator">==</span> <span class="token string">&quot;default/facescan&quot;</span> <span class="token operator">-&gt;</span> com<span class="token punctuation">.</span>sumsub<span class="token punctuation">.</span>sns<span class="token punctuation">.</span>core<span class="token punctuation">.</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>sns_ic_intro_liveness
            key <span class="token operator">==</span> <span class="token string">&quot;default/do_idCard_backSide&quot;</span> <span class="token operator">-&gt;</span> com<span class="token punctuation">.</span>sumsub<span class="token punctuation">.</span>sns<span class="token punctuation">.</span>core<span class="token punctuation">.</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>sns_ic_intro_do_back
            key <span class="token operator">==</span> <span class="token string">&quot;default/dont_idCard_backSide&quot;</span> <span class="token operator">-&gt;</span> com<span class="token punctuation">.</span>sumsub<span class="token punctuation">.</span>sns<span class="token punctuation">.</span>core<span class="token punctuation">.</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>sns_ic_intro_dont_back
            key <span class="token operator">==</span> <span class="token string">&quot;IdentityType/PASSPORT&quot;</span> <span class="token operator">-&gt;</span> com<span class="token punctuation">.</span>sumsub<span class="token punctuation">.</span>sns<span class="token punctuation">.</span>core<span class="token punctuation">.</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>sns_ic_iddoc_passport
            key <span class="token operator">==</span> <span class="token string">&quot;IdentityType/DRIVERS&quot;</span> <span class="token operator">-&gt;</span> com<span class="token punctuation">.</span>sumsub<span class="token punctuation">.</span>sns<span class="token punctuation">.</span>core<span class="token punctuation">.</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>sns_ic_iddoc_driving_license
            key <span class="token operator">==</span> <span class="token string">&quot;IdentityType/RESIDENCE_PERMIT&quot;</span> <span class="token operator">-&gt;</span> com<span class="token punctuation">.</span>sumsub<span class="token punctuation">.</span>sns<span class="token punctuation">.</span>core<span class="token punctuation">.</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>sns_ic_iddoc_residence_permit
            key<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;IdentityType/&quot;</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> com<span class="token punctuation">.</span>sumsub<span class="token punctuation">.</span>sns<span class="token punctuation">.</span>core<span class="token punctuation">.</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>sns_ic_iddoc_id_card
            <span class="token keyword">else</span> <span class="token operator">-&gt;</span> <span class="token operator">-</span><span class="token number">1</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> iconRes<span class="token punctuation">.</span><span class="token function">takeIf</span> <span class="token punctuation">{</span> it <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span> ResourcesCompat<span class="token punctuation">.</span><span class="token function">getDrawable</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>resources<span class="token punctuation">,</span> it<span class="token punctuation">,</span> context<span class="token punctuation">.</span>theme<span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withIconHandler</span><span class="token punctuation">(</span>iconHandler<span class="token punctuation">)</span>
</code></pre></div><h2 id="video-identification"><a href="#video-identification" class="header-anchor">#</a> Video Identification</h2> <p>The VideoIdent is an optional module that is required only if you are going to use the Video Identification during the verification flow.
In order to enable the module, please add the following dependency into your build.gradle file.</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>dependencies <span class="token punctuation">{</span>
    <span class="token comment">// Video Identification module</span>
    implementation <span class="token string gstring">&quot;com.sumsub.sns:idensic-mobile-sdk-videoident:<span class="token expression"><span class="token punctuation">$</span>latestVersion</span>&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="debugging"><a href="#debugging" class="header-anchor">#</a> Debugging</h2> <h3 id="logs"><a href="#logs" class="header-anchor">#</a> Logs</h3> <p>If you want to see the logs within the SDK, please, use the following code:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token comment">// default is 'false'</span>
<span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withDebug</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">SDK</span> snsSdk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token function">requireActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withDebug</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="tip custom-block"><p>Don't forget to disable the flag for the release build.</p></div> <h3 id="custom-logger"><a href="#custom-logger" class="header-anchor">#</a> Custom Logger</h3> <p>You can provide SumSub Android SDK with custom logger using the .withLogTree method. Create your custom logger, for example:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> CustomTree <span class="token operator">:</span> Logger <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token operator">:</span> String<span class="token punctuation">,</span> message<span class="token operator">:</span> String<span class="token punctuation">,</span> throwable<span class="token operator">:</span> Throwable<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> message<span class="token punctuation">,</span> throwable<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">e</span><span class="token punctuation">(</span>tag<span class="token operator">:</span> String<span class="token punctuation">,</span> message<span class="token operator">:</span> String<span class="token punctuation">,</span> throwable<span class="token operator">:</span> Throwable<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> message<span class="token punctuation">,</span> throwable<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">i</span><span class="token punctuation">(</span>tag<span class="token operator">:</span> String<span class="token punctuation">,</span> message<span class="token operator">:</span> String<span class="token punctuation">,</span> throwable<span class="token operator">:</span> Throwable<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Log<span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> message<span class="token punctuation">,</span> throwable<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">v</span><span class="token punctuation">(</span>tag<span class="token operator">:</span> String<span class="token punctuation">,</span> message<span class="token operator">:</span> String<span class="token punctuation">,</span> throwable<span class="token operator">:</span> Throwable<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Log<span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> message<span class="token punctuation">,</span> throwable<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">w</span><span class="token punctuation">(</span>tag<span class="token operator">:</span> String<span class="token punctuation">,</span> message<span class="token operator">:</span> String<span class="token punctuation">,</span> throwable<span class="token operator">:</span> Throwable<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Log<span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> message<span class="token punctuation">,</span> throwable<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>Right now you can use your custom log tree:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withLogTree</span><span class="token punctuation">(</span><span class="token function">CustomTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="customization"><a href="#customization" class="header-anchor">#</a> Customization</h2> <p>The SDK can be <a href="/msdk/android/customization.html">customized</a>: you can change styles, colors, typefaces, etc.</p> <p>See also <a href="/msdk/android/theme-api.html">Theme API</a> and <a href="/msdk/android/theme-guide.html">Visual Guide</a> for details.</p> <h2 id="localization"><a href="#localization" class="header-anchor">#</a> Localization</h2> <p><code>.withLocale(Locale(&quot;en&quot;))</code> gives you ability to switch between locales on initialization
You can customize or localize the texts used within the SDK through the <a href="https://cockpit.sumsub.com/checkus#/sdkIntegrations/globalSettings/msdkI18n" target="_blank" rel="noopener noreferrer">MSDK Translations<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> tool in the dashboard.
Please check the list of supported locales by SDK <a href="/faq/#what-languages-does-sdk-support">here</a>.</p> <h3 id="strings"><a href="#strings" class="header-anchor">#</a> Strings</h3> <p>In addition to the <a href="https://cockpit.sumsub.com/checkus#/sdkIntegrations/globalSettings/msdkI18n" target="_blank" rel="noopener noreferrer">MSDK Translations<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> tool
and the <code>.withLocale(Locale(&quot;en&quot;))</code> described <a href="#localization">above</a>, you can use <code>withConf</code> builder method that allows
you to define the strings locally.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> config <span class="token operator">=</span> <span class="token function">SNSInitConfig</span><span class="token punctuation">(</span>
  email <span class="token operator">=</span> <span class="token string">&quot;user@domain.com&quot;</span><span class="token punctuation">,</span>
  phone <span class="token operator">=</span> <span class="token string">&quot;+1 234 567890&quot;</span><span class="token punctuation">,</span>
  strings <span class="token operator">=</span> <span class="token function">mapOf</span><span class="token punctuation">(</span>
    <span class="token string">&quot;sns_oops_network_title&quot;</span> <span class="token keyword">to</span> <span class="token string">&quot;Oops! Seems like the network is down.&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sns_oops_network_html&quot;</span> <span class="token keyword">to</span> <span class="token string">&quot;Please check your internet connection and try again.&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sns_oops_action_retry&quot;</span> <span class="token keyword">to</span> <span class="token string">&quot;Try again&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
snsSdkBuilder<span class="token punctuation">.</span><span class="token function">withConf</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> strings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            strings<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;sns_oops_network_title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Oops! Seems like the network is down.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            strings<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;sns_oops_network_html&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Please check your internet connection and try again.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            strings<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;sns_oops_action_retry&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Try again&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">SNSInitConfig</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SNSInitConfig</span><span class="token punctuation">(</span><span class="token string">&quot;user@email.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;+11231234567&quot;</span><span class="token punctuation">,</span> strings<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">SDK</span> snsSdk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SNSMobileSDK</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token function">requireActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token punctuation">.</span><span class="token function">withConf</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>⚠️ Note that the <code>witLocale</code> method does not affect these strings, thus it's up to you to use the required localization.</p> <h3 id="terms-and-conditions-private-policy"><a href="#terms-and-conditions-private-policy" class="header-anchor">#</a> 'Terms and Conditions', 'Private Policy'</h3> <p>You can specify your 'Terms and Conditions' and 'Privacy Policy' by HTML or URL. Use the following keys in MSDK Translations <code>sns_tos_GTC_html</code> (Terms and Conditions) and <code>sns_tos_PP_html</code> (Privacy Policy) to specify HTML and <code>sns_tos_GTC_url</code> (Terms and Conditions) and <code>sns_tos_PP_url</code> (Privacy Policy) to load from URL.</p> <h2 id="action-flow"><a href="#action-flow" class="header-anchor">#</a> Action Flow</h2> <p>In order to run the SDK in applicant action mode, you need to create an applicant flow of <code>Applicant actions</code> type in the dashboard and specify its name as the <code>flowName</code> initialization parameter. Also, it'll be required to make an <a href="/msdk/#step-2-access-token">Access Token</a> not only with the <code>userId</code> parameter, but with the <code>externalActionId</code> one as well.</p> <p>Aside from the notes above, you <a href="#basic-usage">manage</a> the sdk the same way that you do with regular flows, the only difference is in how you get the action's result.</p> <h2 id="file-selection-in-gallery"><a href="#file-selection-in-gallery" class="header-anchor">#</a> File selection in gallery</h2> <p>You can specify the type of file requested from the gallery by overriding the resource string.</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sns_gallery_type<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>*/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Users can preview PDF files on Android devices running 5.0 Lollipop and higher.</p> <h2 id="low-light-performance-for-our-liveness-detection"><a href="#low-light-performance-for-our-liveness-detection" class="header-anchor">#</a> Low-light performance for our liveness detection</h2> <p>The SDK can operate using screen light in low-light conditions. The application must have additional permissions to change screen brightness.  Accordingly, you can request that the user opens settings and adds the application to their device’s “trusted list.”</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code>
<span class="token keyword">val</span> intent <span class="token operator">=</span> <span class="token function">Intent</span><span class="token punctuation">(</span>Settings<span class="token punctuation">.</span>ACTION_MANAGE_WRITE_SETTINGS<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addFlags</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>FLAG_ACTIVITY_NEW_TASK<span class="token punctuation">)</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span>

</code></pre></div><h2 id="analytics"><a href="#analytics" class="header-anchor">#</a> Analytics</h2> <p>The SDK collects and sends usage data to Sumsub servers. We don't track any sensitive data. Only general usage statistics is sent to us. It includes screen navigation events, UI controls interaction events and so on. We interpret the usage data in order to improve Sumsub. None of the data is sold or transferred to third parties, and we don't use it for advertisement.</p> <p>If you still want to disable this feature, you can use the following to do this:</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> snsSdkBuilder <span class="token operator">=</span> SNSMobileSDK<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withAnalyticsEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="obfuscation"><a href="#obfuscation" class="header-anchor">#</a> Obfuscation</h2> <p>The Sumsub Mobile SDK contains necessary proguard rules. You don't need to add it manually.</p> <p>Please, make sure you have disabled R8 full mode: in the gradle.properties, add the following line</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">android.enableR8.fullMode</span><span class="token punctuation">=</span><span class="token attr-value">false</span>
</code></pre></div><h2 id="reducing-sdk-size"><a href="#reducing-sdk-size" class="header-anchor">#</a> Reducing SDK size</h2> <p>You can reduce the size of your application's release build by removing TensorFlow library binaries, which will save
about 7 MB depending on the supported architectures. However, note that removing these libraries may affect
some features of the Sumsub SDK:</p> <ul><li>Lower face detection accuracy in some cases.</li> <li>The client-side photo quality detector will be disabled.</li> <li>Automatic documents capture will be disabled.</li></ul> <p>To remove TensorFlow libraries from the resulting APK (or AAB),
add the following code in the application's build.gradle file:</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>android <span class="token punctuation">{</span>

    <span class="token comment">// excludes heavy TF *.so files from the apk.</span>
    packagingOptions <span class="token punctuation">{</span>
        exclude <span class="token string">'lib/**/libtensorflowlite_jni.so'</span>
    <span class="token punctuation">}</span>

</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/11/2024, 3:33:52 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ca50a992.js" defer></script><script src="/assets/js/2.7a462c56.js" defer></script><script src="/assets/js/5.1615d861.js" defer></script><script src="/assets/js/34.8d32e80c.js" defer></script>
  </body>
</html>
