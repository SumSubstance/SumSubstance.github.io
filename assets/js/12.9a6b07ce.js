(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{245:function(e,t,a){"use strict";a.r(t);var o=a(16),i=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"api-integration-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-integration-guide"}},[e._v("#")]),e._v(" API Integration Guide")]),e._v(" "),a("h2",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),a("div",{staticClass:"danger custom-block"},[a("p",[e._v("Please, contact us in advance before using this method of integration. The verification flow can\nbe quite challenging to implement since it may have lots of tricky cases that our "),a("router-link",{attrs:{to:"/web-sdk/"}},[e._v("WebSDK")]),e._v(" handles for you.\nIn the future, we may decide to charge additionally for support when you chose this type of integration.\nAdditionally, the pricing model may change to charge per transaction, not per user.")],1)]),e._v(" "),a("p",[e._v("All API methods mentioned here are described in the "),a("router-link",{attrs:{to:"/api-reference/"}},[e._v("API Reference")]),e._v(" section. The goal of this page is to\ngive you an idea on how the whole flow should look like and what to pay attention to. We also provide a check list of what you\nneed to take care of to ensure that your integration is smooth and your users are happy.\nIf you think that this flow would be hard to implement or time-consuming, please, "),a("strong",[e._v("choose")]),e._v(" our "),a("router-link",{attrs:{to:"/web-sdk/"}},[e._v("WebSDK")]),e._v(".")],1),e._v(" "),a("h2",{attrs:{id:"api-integration-phases"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-integration-phases"}},[e._v("#")]),e._v(" API Integration Phases")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/api-flow.png",alt:"API Flow"}})]),e._v(" "),a("h3",{attrs:{id:"create-an-applicant-with-their-documents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-an-applicant-with-their-documents"}},[e._v("#")]),e._v(" Create an applicant with their documents")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[e._v("All API requests must be authenticated as described in "),a("router-link",{attrs:{to:"/api-reference/#app-tokens"}},[e._v("this section")]),e._v(".\nFor testing purposes make sure to use App token and Secret key pair that was created on Sandbox for "),a("router-link",{attrs:{to:"/api-reference/#making-a-request"}},[e._v("request authorization headers")]),e._v(".")],1)]),e._v(" "),a("p",[e._v("Firstly you need to "),a("router-link",{attrs:{to:"/api-reference/#creating-an-applicant"}},[e._v("create an applicant")])],1),e._v(" "),a("ul",[a("li",[e._v("Set up steps that an applicant must go through by creating applicant level from the "),a("a",{attrs:{href:"https://api.sumsub.com/checkus#/sdkIntegrations/levels",target:"_blank",rel:"noopener noreferrer"}},[e._v("dashboard"),a("OutboundLink")],1),e._v(",\ne.g. uploading an identity document, selfie and proof of address. More info about supported documents "),a("router-link",{attrs:{to:"/api-reference/#supported-document-types"}},[e._v("here")]),e._v(".")],1),e._v(" "),a("li",[e._v("Provide as much information as you have already, e.g. email, phone, etc. - it helps us with our anti-fraud checks")])]),e._v(" "),a("h3",{attrs:{id:"uploading-documents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uploading-documents"}},[e._v("#")]),e._v(" Uploading documents")]),e._v(" "),a("p",[e._v("Then "),a("router-link",{attrs:{to:"/api-reference/#adding-an-id-document"}},[e._v("upload applicant documents")])],1),e._v(" "),a("ul",[a("li",[e._v("Make sure to upload all documents that you require.")]),e._v(" "),a("li",[e._v("If a document is double-sided, submit two images and set up "),a("code",[e._v("idDocSubType")]),e._v(" properly ("),a("code",[e._v("FRONT_SIDE")]),e._v(" and "),a("code",[e._v("BACK_SIDE")]),e._v(")")]),e._v(" "),a("li",[e._v("Make sure to send "),a("code",[e._v("BACK_SIDE")]),e._v(" if "),a("code",[e._v("FRONT_SIDE")]),e._v(" was already sent otherwise verification step won't be completed, and you won't be able to initiate a check.")])]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[e._v("If you've changed the list of restricted countries at the applicant level, we suggest rewriting it for applicants that were created before the change with "),a("router-link",{attrs:{to:"/api-reference/#changing-required-document-set-level"}},[e._v("this method")]),e._v(".")],1)]),e._v(" "),a("h3",{attrs:{id:"requesting-check-for-an-applicant"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#requesting-check-for-an-applicant"}},[e._v("#")]),e._v(" Requesting check for an applicant")]),e._v(" "),a("p",[e._v("Once all required documents are properly uploaded you can notify us that an applicant is ready to be reviewed by moving it to "),a("code",[e._v("pending")]),e._v(" calling "),a("router-link",{attrs:{to:"/api-reference/#requesting-an-applicant-check"}},[e._v("that endpoint")]),e._v(" ("),a("strong",[e._v("POST")]),e._v(" "),a("code",[e._v("/resources/applicants/{applicantId}/status/pending")]),e._v(")")],1),e._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",[a("strong",[e._v("NOTE")]),e._v(": if you don't submit documents correctly, the applicant will be rejected or won't be checked.\nPlease, check all the tricky cases on your side to avoid having incomplete applicants.")])]),e._v(" "),a("h3",{attrs:{id:"getting-verification-results"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-verification-results"}},[e._v("#")]),e._v(" Getting verification results")]),e._v(" "),a("ul",[a("li",[e._v("Set up "),a("router-link",{attrs:{to:"/api-reference/#webhooks"}},[e._v("webhooks")]),e._v(" to get the results.")],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/api-reference/#getting-verification-results"}},[e._v("Receive results")]),e._v(" and show appropriate message to your users.\n"),a("ul",[a("li",[e._v("If you received a "),a("code",[e._v("GREEN")]),e._v(" result, all is fine. Congratulations with one more verified user!\nYou can also "),a("router-link",{attrs:{to:"/api-reference/#getting-applicant-data"}},[e._v("fetch its data")]),e._v(" in a separate API call if needed.")],1),e._v(" "),a("li",[e._v("If you got a "),a("code",[e._v("RED")]),e._v(" answer and "),a("code",[e._v("rejectType")]),e._v(" is "),a("code",[e._v("FINAL")]),e._v(" block the user,\nand let him resolve the issue via support. Don't worry, there are only 1-2% of such cases, and it can happen when, e.g. there is a fake account or forged documents were used.")]),e._v(" "),a("li",[e._v("If you got a "),a("code",[e._v("RED")]),e._v(" answer and "),a("code",[e._v("rejectType")]),e._v(" is "),a("code",[e._v("RETRY")]),e._v(", a user has some issues with their documents. Refer to the next section of how to guide a user to fix those.")])])],1)]),e._v(" "),a("h3",{attrs:{id:"resubmitting-problematic-documents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resubmitting-problematic-documents"}},[e._v("#")]),e._v(" Resubmitting problematic documents")]),e._v(" "),a("ul",[a("li",[e._v("First of all, there is "),a("strong",[e._v("no need")]),e._v(" to make a user upload "),a("strong",[e._v("all")]),e._v(" the documents again. Only those that have problems.")]),e._v(" "),a("li",[e._v("Read the images that have problems via this "),a("router-link",{attrs:{to:"/api-reference/#getting-applicant-verification-steps-status"}},[e._v("endpoint")]),e._v(" and show "),a("code",[e._v("moderationComment")]),e._v(" field to inform\na user about the exact problem. E.g. "),a("em",[e._v("The text on your identity document is not clearly visible. Please, upload a new photo.")])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/api-reference/#adding-an-id-document"}},[e._v("Reupload documents")]),e._v(" from the problematic step to the same applicant, move the applicant to pending status and wait for "),a("router-link",{attrs:{to:"/api-reference/#getting-verification-results"}},[e._v("verification results")]),e._v(" again.")],1)]),e._v(" "),a("h2",{attrs:{id:"checklist-for-a-smooth-api-integration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#checklist-for-a-smooth-api-integration"}},[e._v("#")]),e._v(" Checklist for a smooth API integration")]),e._v(" "),a("ul",[a("li",[e._v("If you send user data to us and want them to be cross-checked with the data from the documents, make sure that you allow the user to fix the data\non your side. We will send you a "),a("code",[e._v("PROBLEMATIC_APPLICANT_DATA")]),e._v(" reject label in this case. "),a("strong",[e._v("Note")]),e._v(": this scenario is not encouraged. To avoid confusion we recommend\n"),a("router-link",{attrs:{to:"/api-reference/#getting-applicant-data"}},[e._v('getting "clean" data')]),e._v(" from our side.")],1),e._v(" "),a("li",[e._v("If you don't have sophisticated rules for the documents, we recommend to send just 1 image for passports, and 2 sides for id cards, driving licenses and residence permits.")]),e._v(" "),a("li",[e._v("For selfies, make sure that the user is aware that the ID document should be uploaded with the selfie and be clearly readable.")]),e._v(" "),a("li",[e._v("Verifications statuses are handled correctly:\n"),a("ul",[a("li",[a("code",[e._v("FINAL")]),e._v(" reject does not allow user to submit new documents and the user is notified about that.")]),e._v(" "),a("li",[e._v("You should be able to react on the status change. E.g. we approved a user, but 1 week later he appeared on the blocklist. We will send a "),a("code",[e._v("RED")]),e._v("\nresult to your webhook endpoint, and you should react on the status change accordingly.")])])])])])}),[],!1,null,null,null);t.default=i.exports}}]);